const e=document.getElementById("app"),s=document.getElementById("start-btn"),t=document.getElementById("missed"),i=document.getElementById("corvette"),a=document.getElementById("fregate"),r=document.getElementById("destroyer"),h=document.getElementById("cruiser");let n=0,c=0,o=0,d=0,l=0;const m=new class{size;max;empty=7;constructor(e){this.size=e,this.max=e*e-1,this.board=new Array(this.size).fill(this.empty).map((()=>new Array(this.size).fill(this.empty)))}randomNumber(){return Math.floor(Math.random()*(this.max-0)+0)}shipsSpace=[];placeShip(e,s){const t=Math.floor(e/this.size),i=e%this.size;this.board[t][i]=s,s.cells.push([e]);[e,e-1,e+1,e-this.size,e+this.size,e-this.size+1,e+this.size+1,e-this.size-1,e+this.size-1].forEach((e=>{this.shipsSpace.includes(e)||this.shipsSpace.push(e)}))}randomShip(e){const s=this.randomNumber(),t=this.checkLimit(s,e);if(this.shipsSpace.includes(s)||!1===t)return this.randomShip(e);const i={id:s,size:e,cells:[]};switch(t){case"left":for(let t=0;t<e;t++)this.placeShip(s-t,i);break;case"right":for(let t=0;t<e;t++)this.placeShip(s+t,i);break;case"up":for(let t=0;t<e;t++)this.placeShip(s-this.size*t,i);break;case"down":for(let t=0;t<e;t++)this.placeShip(s+this.size*t,i)}}randomize(e){this.randomShip(4),this.randomShip(3),this.randomShip(3),this.randomShip(2),this.randomShip(2),this.randomShip(2),this.randomShip(1),this.randomShip(1),this.randomShip(1),this.randomShip(1),this.drawBoard(e)}clearBoard(e){e.innerHTML="",this.shipsSpace=[],this.board=new Array(this.size).fill(this.empty).map((()=>new Array(this.size).fill(this.empty)))}drawBoard(e){this.board.forEach(((s,t)=>{const i=document.createElement("div");i.classList.add("row"),e.appendChild(i),s.forEach(((e,s)=>{const a=document.createElement("div");a.classList.add("cell"),i.appendChild(a),a.dataset.row=t,a.dataset.column=s,a.dataset.number=10*t+s}))}))}checkLimit(e,s){const t=this.randomNumber(3);let i="",a=0,r=[];switch(t){case 0:i="left";break;case 1:i="up";break;case 2:i="right";break;case 3:i="down"}switch(i){case"left":a=e%this.size-s;for(let t=0;t<s;t++)r.push(e-t);break;case"right":a=e%this.size+s;for(let t=0;t<s;t++)r.push(e+t);break;case"up":a=Math.floor(e/this.size)-s;for(let t=0;t<s;t++)r.push(e-this.size*t);break;case"down":a=Math.floor(e/this.size)+s;for(let t=0;t<s;t++)r.push(e+this.size*t)}return r.forEach((e=>{this.shipsSpace.includes(e)&&(i=!1)})),a>0&&a<=this.size&&i}}(10);s.addEventListener("click",(()=>{m.clearBoard(e),m.randomize(e)})),e.addEventListener("click",(e=>{const s=e.target,p=+s.dataset.row,u=+s.dataset.column,z=m.board[p][u];if(z.size>0&&z.size<6&&(s.innerHTML="ðŸ”¥",s.classList.add("hit"),m.board[p][u].size-=1,0===m.board[p][u].size))switch(z.cells.forEach((e=>{const s=document.querySelector(`[data-number="${e}"]`);s.innerHTML="âš“",s.classList.add("destroyed")})),console.log(z.cells.length),z.cells.length){case 1:c+=1,i.innerText=c;break;case 2:o+=1,a.innerText=o;break;case 3:d+=1,r.innerText=d;break;case 4:l+=1,h.innerText=l}7===z&&(s.innerHTML="âš«",s.classList.add("miss"),m.board[p][u]=6,n+=1,t.innerText=n)}));
//# sourceMappingURL=index.7ecafbf2.js.map
