const s=document.getElementById("app"),i=document.getElementById("start-btn"),e=new class{size;max;empty=7;constructor(s){this.size=s,this.max=s*s-1,this.board=new Array(this.size).fill(this.empty).map((()=>new Array(this.size).fill(this.empty)))}randomNumber(){return Math.floor(Math.random()*(this.max-0)+0)}shipsSpace=[];placeShip(s,i){const e=Math.floor(s/this.size),t=s%this.size;this.board[e][t]=i,i.cells.push([s]);[s,s-1,s+1,s-this.size,s+this.size,s-this.size+1,s+this.size+1,s-this.size-1,s+this.size-1].forEach((s=>{this.shipsSpace.includes(s)||this.shipsSpace.push(s)}))}randomShip(s){const i=this.randomNumber(),e=this.checkLimit(i,s);if(this.shipsSpace.includes(i)||!1===e)return this.randomShip(s);const t={id:i,size:s,cells:[]};switch(e){case"left":for(let e=0;e<s;e++)this.placeShip(i-e,t);break;case"right":for(let e=0;e<s;e++)this.placeShip(i+e,t);break;case"up":for(let e=0;e<s;e++)this.placeShip(i-this.size*e,t);break;case"down":for(let e=0;e<s;e++)this.placeShip(i+this.size*e,t)}}randomize(s){this.randomShip(4),this.randomShip(3),this.randomShip(3),this.randomShip(2),this.randomShip(2),this.randomShip(2),this.randomShip(1),this.randomShip(1),this.randomShip(1),this.randomShip(1),this.drawBoard(s)}clearBoard(s){s.innerHTML="",this.shipsSpace=[],this.board=new Array(this.size).fill(this.empty).map((()=>new Array(this.size).fill(this.empty)))}drawBoard(s){this.board.forEach(((i,e)=>{const t=document.createElement("div");t.classList.add("row"),s.appendChild(t),i.forEach(((s,i)=>{const a=document.createElement("div");a.classList.add("cell"),t.appendChild(a),a.dataset.row=e,a.dataset.column=i,a.dataset.number=10*e+i}))}))}checkLimit(s,i){const e=this.randomNumber(3);let t="",a=0,h=[];switch(e){case 0:t="left";break;case 1:t="up";break;case 2:t="right";break;case 3:t="down"}switch(t){case"left":a=s%this.size-i;for(let e=0;e<i;e++)h.push(s-e);break;case"right":a=s%this.size+i;for(let e=0;e<i;e++)h.push(s+e);break;case"up":a=Math.floor(s/this.size)-i;for(let e=0;e<i;e++)h.push(s-this.size*e);break;case"down":a=Math.floor(s/this.size)+i;for(let e=0;e<i;e++)h.push(s+this.size*e)}return h.forEach((s=>{this.shipsSpace.includes(s)&&(t=!1)})),a>0&&a<=this.size&&t}}(10);i.addEventListener("click",(()=>{e.clearBoard(s),e.randomize(s)})),s.addEventListener("click",(s=>{const i=s.target,t=+i.dataset.row,a=+i.dataset.column,h=e.board[t][a];console.log(h),h.size>0&&h.size<6&&(i.innerHTML="ðŸ”¥",i.classList.add("hit"),e.board[t][a].size-=1,0===e.board[t][a].size&&h.cells.forEach((s=>{const i=document.querySelector(`[data-number="${s}"]`);i.innerHTML="âš“",i.classList.add("destroyed")}))),7===h&&(i.innerHTML="âš«",i.classList.add("miss"),e.board[t][a]=6)}));
//# sourceMappingURL=index.a6ce8140.js.map
